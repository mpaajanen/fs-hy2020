{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","reportWebVitals.js","index.js"],"names":["Person","person","handleDelete","name","number","onClick","Persons","personsToShow","handleDeleteOf","map","id","Filter","val","handle","value","onChange","PersonForm","onSubmit","nameVal","nameOnChng","numVal","numOnChng","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","persons","setPersons","newName","setNewName","newNum","setNewNum","showAll","filter","setFilter","errorMessage","setErrorMessage","useEffect","personService","toLowerCase","includes","event","target","preventDefault","personObj","window","confirm","personFound","find","console","log","returnedPerson","setTimeout","catch","error","concat","deletedPerson","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.109f6649.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, handleDelete }) => (\r\n    <div>{person.name} {person.number} <button onClick={handleDelete}>delete</button></div>\r\n  )\r\n\r\n  export default Person","import React from 'react'\r\nimport Person from './Person'\r\nconst Persons = ({ personsToShow, handleDeleteOf }) => {\r\n    return (\r\n      personsToShow.map(person =>\r\n        <Person \r\n          key={person.name} \r\n          person={person}\r\n          handleDelete={() => handleDeleteOf(person.id)}\r\n        />\r\n      )\r\n    )\r\n  }\r\n\r\n  export default Persons","import React from 'react'\r\n\r\nconst Filter = ({ val, handle }) => {\r\n    return(\r\n      <input value={val} onChange={handle} />\r\n    )\r\n  }\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ onSubmit, nameVal, nameOnChng, numVal, numOnChng}) => {\r\n    return (\r\n        <form onSubmit={onSubmit}>\r\n        <div>\r\n        name: <input \r\n            value={nameVal}\r\n            onChange={nameOnChng}\r\n        /><br />\r\n        number: <input\r\n            value={numVal}\r\n            onChange={numOnChng}\r\n        />\r\n        </div>\r\n        <div>\r\n        <button type=\"submit\">add</button>\r\n        </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\n// const baseUrl = 'http://localhost:3001/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst del = (id, newObject) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, del }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNum, setNewNum ] = useState('')\n  const [ showAll ] = useState(false)\n  const [ filter, setFilter ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  \n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObj = {\n      name: newName,\n      number: newNum\n    }\n    const names = persons.map(person => person.name)\n    if(names.includes(newName)){\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const personFound = persons.find(person => person.name === newName)\n        const id = personFound.id\n        console.log(personFound, id)\n        personService\n         .update(id, personObj)\n         .then(returnedPerson => {\n           console.log(returnedPerson)\n           setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n           setErrorMessage(\n            `${newName} was modified!`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 2000)\n          })\n         .catch(error => {\n            console.log(error)\n            setErrorMessage(\n              `${newName} has been removed by someone!`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 2000)\n            setPersons(persons.filter(person => person.id !== id))\n        })\n      }\n    } \n    else {\n      personService\n      .create(personObj)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setErrorMessage(\n          `${newName} was added!`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 2000)\n        })\n      .catch(error => {\n        setErrorMessage(\n          `${error.response.data.error}`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n    }\n  setNewName('')\n  setNewNum('')\n  }\n\n  const personsToShow = showAll\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(filter))\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumChange = (event) => {\n    setNewNum(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleDeleteOf = (id) => {\n    const name = persons.find(person => person.id === id).name\n    if(window.confirm(`Delete ${name}?`)){\n      // const url = `http://localhost:3001/persons/${id}`\n      const person = persons.find(person => person.id === id)\n      const deletedPerson = { ...person }\n\n      personService\n        .del(id, deletedPerson)\n        .then(\n          setPersons(persons.filter(person => person.id !== id))\n          )\n      }\n  }\n  \n  return (\n    <div>\n      <Notification message={errorMessage} />\n      <h2>Phonebook</h2>\n      <div>\n        Filter phonebook: <Filter val={filter} handle={handleFilter} />\n      </div>\n\n      <h3>Add new person</h3>\n      <PersonForm onSubmit={addPerson} \n        nameVal={newName}\n        nameOnChng={handleNameChange}\n        numVal={newNum}\n        numOnChng={handleNumChange}\n      />\n      <h3>Numbers</h3>\n        <Persons personsToShow={personsToShow} handleDeleteOf={handleDeleteOf} />\n\n      {/* <div>debug: {newName}</div> */}\n    </div>\n  )\n\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}